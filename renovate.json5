{
  $schema: "https://docs.renovatebot.com/renovate-schema.json",
  extends: ["config:recommended"],
  timezone: "Asia/Tokyo",
  schedule: ["after 0:00 before 6:00 every weekend"],
  automerge: true,
  automergeSchedule: ["after 0:00 before 6:00 every weekday"],
  automergeStrategy: "squash",
  automergeType: "pr",
  platformAutomerge: true,
  prHourlyLimit: 0,
  separateMajorMinor: true,
  separateMultipleMajor: true,
  dependencyDashboard: true,
  labels: ["renovate"],
  major: {
    addLabels: ["major"],
  },
  minor: {
    addLabels: ["minor"],
  },
  patch: {
    addLabels: ["patch"],
  },
  "pre-commit": {
    enabled: true,
  },
  vulnerabilityAlerts: {
    automerge: true,
    labels: ["security"],
  },
  packageRules: [
    {
      addLabels: ["github-actions"],
      matchManagers: ["github-actions"],
      matchUpdateTypes: ["minor", "patch"],
    },
    {
      addLabels: ["github-actions"],
      matchUpdateTypes: ["major"],
      matchPackageNames: [
        "actions/cache",
        "actions/checkout",
        "actions/labeler",
        "actions/setup-node",
        "actions/setup-python",
        "actions/upload-pages-artifact@v1",
        "aws-actions/amazon-ecr-login",
        "aws-actions/aws-secretsmanager-get-secrets",
        "aws-actions/configure-aws-credentials",
        "danger/danger-js",
        "DataDog/synthetics-ci-github-action",
        "docker/build-push-action",
        "docker/setup-buildx-action",
        "docker/setup-qemu-action",
        "hashicorp/setup-terraform",
        "kentaro-m/auto-assign-action",
        "pnpm/action-setup",
        "terraform-linters/setup-tflint",
      ],
    },
    {
      groupName: "GitHub Page Actions",
      addLabels: ["github-actions", "GitHub Pages"],
      matchUpdateTypes: ["major"],
      matchPackageNames: ["actions/configure-pages", "actions/deploy-pages"],
    },
    {
      addLabels: ["Node.js"],
      groupName: "Node.js",
      matchPackageNames: ["node", "@types/node"],
      matchUpdateTypes: ["minor", "patch"],
    },
    {
      addLabels: ["Node.js"],
      allowedVersions: "<24.0.0",
      matchCurrentVersion: "<24.0.0",
      major: {
        automerge: false,
      },
      matchManagers: ["nodenv"],
      rangeStrategy: "replace",
    },
    {
      addLabels: ["Node.js"],
      matchUpdateTypes: ["minor", "patch"],
      matchManagers: ["npm"],
      matchPackageNames: [
        "amazon-cognito-identity-js",
        "dayjs",
        "cspell",
        "dotenv",
        "husky",
        "launchdarkly-js-client-sdk",
        "lint-staged",
        "pnpm",
        "retry-cli",
        "source-map-support",
        "ts-node",
      ],
    },
    {
      addLabels: ["Node.js"],
      groupName: "AWS CDK and cdk-nag",
      groupSlug: "aws-cdk",
      matchSourceUrls: [
        "https://github.com/aws/aws-cdk",
        "https://github.com/aws/constructs",
        "https://github.com/cdklabs/cdk-nag",
        "https://github.com/DataDog/datadog-cdk-constructs",
      ],
      matchUpdateTypes: ["minor", "patch"],
    },
    {
      addLabels: ["pyenv"],
      allowedVersions: "<3.10",
      major: {
        automerge: false,
      },
      matchManagers: ["pyenv"],
      minor: {
        automerge: false,
      },
    },
    {
      addLabels: ["Python"],
      matchUpdateTypes: ["minor", "patch"],
      matchPackageNames: [
        "aws-lambda-powertools",
        "aws-xray-sdk",
        "awsebcli",
        "mypy",
        "openai",
        "typing-extensions",
      ],
    },
    {
      addLabels: ["python", "Package tools"],
      groupName: "Python package tools (pip, Poetry, uv)",
      groupSlug: "python-package-tools",
      matchPackageNames: ["pip", "poetry", "python-poetry/poetry", "uv"],
    },
    {
      addLabels: ["python"],
      groupName: "setuptools",
      groupSlug: "python-setuptools",
      matchPackageNames: ["types-setuptools", "setuptools"],
    },
    {
      addLabels: ["python"],
      groupName: "python-dateutil",
      groupSlug: "python-dateutil",
      matchPackageNames: ["python-dateutil", "types-python-dateutil"],
    },
    {
      addLabels: ["python", "testing-tools"],
      groupName: "Python testing tools",
      groupSlug: "python-testing-tools",
      matchUpdateTypes: ["minor", "patch"],
      matchPackageNames: [
        "coverage",
        "factory-boy",
        "freezegun",
        "moto",
        "pytest-cov",
        "pytest-env",
        "pytest-snapshot",
        "pytest",
        "types-freezegun",
      ],
    },
  ],
}
